<template>
  <div class="drawer">
    <input id="header-menu-drawer" type="checkbox" class="drawer-toggle" />
    <div class="drawer-content main-content min-h-screen">
      <div class="relative flex-none w-full navbar bg-base-100 z-10">
        <div class="lg:hidden flex-1">
          <label for="header-menu-drawer" class="btn btn-square btn-ghost">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              class="inline-block w-6 h-6 stroke-current"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </label>
        </div>
        <div class="flex-1 px-2 mx-2 hidden lg:block navbar-center">
          <NuxtLink to="/" class="btn btn-ghost normal-case text-xl">
            <svg
              class="header-logo"
              data-name="String Theory Logo Black"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 256 256"
              width="24"
              height="24"
            >
              <path
                d="M248.2,114.63a7.78,7.78,0,0,1-5.51-2.28l-99-99a7.8,7.8,0,0,1,11-11l99,99a7.8,7.8,0,0,1-5.52,13.31Z"
              />
              <path
                class="cls-1"
                d="M248.2,177.77a7.78,7.78,0,0,1-5.51-2.28L80.51,13.31a7.8,7.8,0,0,1,11-11L253.72,164.46a7.8,7.8,0,0,1-5.52,13.31Z"
              />
              <path
                class="cls-1"
                d="M96,256a7.78,7.78,0,0,1-5.52-2.28L2.28,165.55a7.8,7.8,0,0,1,11-11l88.17,88.17A7.8,7.8,0,0,1,96,256Z"
              />
              <path
                class="cls-1"
                d="M248.2,114.63a7.78,7.78,0,0,1-5.51-2.28l-99-99a7.8,7.8,0,0,1,11-11l99,99a7.8,7.8,0,0,1-5.52,13.31Z"
              />
              <path
                class="cls-1"
                d="M248.2,177.77a7.78,7.78,0,0,1-5.51-2.28L80.51,13.31a7.8,7.8,0,0,1,11-11L253.72,164.46a7.8,7.8,0,0,1-5.52,13.31Z"
              />
              <path
                class="cls-1"
                d="M235.2,254.3a7.75,7.75,0,0,1-5.55-2.32c-14.52-14.72-19.07-25.22-23.47-35.37-4.07-9.4-7.91-18.28-20.93-31.3S163.36,168.46,154,164.39c-10.33-4.47-21-9.09-36.12-24.21S98.1,114.39,93.63,104.06c-4.07-9.4-7.91-18.27-20.92-31.29S50.82,55.92,41.42,51.85c-10.33-4.47-21-9.08-36.12-24.2-.34-.34-.65-.66-1-1l-.42-.43A7.8,7.8,0,0,1,15.09,15.34l.46.48.78.8c13,13,21.89,16.85,31.28,20.92,10.33,4.46,21,9.08,36.13,24.2s19.74,25.8,24.2,36.13c4.07,9.39,7.91,18.27,20.92,31.28s21.9,16.86,31.29,20.93c10.33,4.46,21,9.08,36.13,24.2s19.74,25.8,24.22,36.13c4,9.24,7.78,18,20.25,30.61a7.8,7.8,0,0,1-5.55,13.28Z"
              />
              <path
                class="cls-1"
                d="M164.94,256a7.79,7.79,0,0,1-6.78-3.93,91.88,91.88,0,0,1-6.26-14c-3.07-8.15-5.73-15.19-16.08-25.55s-17.39-13-25.54-16.08c-8.6-3.24-18.35-6.91-31.08-19.64s-16.41-22.48-19.65-31.08c-3.07-8.15-5.72-15.19-16.08-25.55s-17.4-13-25.55-16.08a91.37,91.37,0,0,1-14-6.26A7.79,7.79,0,1,1,11.66,84.3a79.15,79.15,0,0,0,11.76,5.2c8.6,3.25,18.35,6.92,31.08,19.66s16.41,22.47,19.65,31.07c3.07,8.15,5.73,15.2,16.08,25.55s17.39,13,25.55,16.08c8.59,3.24,18.34,6.91,31.07,19.64S163.26,224,166.5,232.58a78.2,78.2,0,0,0,5.21,11.76A7.8,7.8,0,0,1,164.94,256Z"
              />
              <path
                class="cls-1"
                d="M235.2,254.3a7.75,7.75,0,0,1-5.55-2.32c-14.52-14.72-19.07-25.22-23.47-35.37-4.07-9.4-7.91-18.28-20.93-31.3S163.36,168.46,154,164.39c-10.33-4.47-21-9.09-36.12-24.21S98.1,114.39,93.63,104.06c-4.07-9.4-7.91-18.27-20.92-31.29S50.82,55.92,41.42,51.85c-10.33-4.47-21-9.09-36.12-24.2a7.8,7.8,0,0,1,11-11c13,13,21.89,16.85,31.28,20.92,10.33,4.46,21,9.08,36.13,24.2s19.74,25.8,24.2,36.13c4.07,9.39,7.91,18.27,20.92,31.28s21.9,16.86,31.29,20.93c10.33,4.46,21,9.08,36.13,24.2s19.74,25.8,24.22,36.13c4,9.24,7.78,18,20.25,30.61a7.8,7.8,0,0,1-5.55,13.28Z"
              />
              <path
                class="cls-1"
                d="M164.94,256a7.79,7.79,0,0,1-6.78-3.93,91.88,91.88,0,0,1-6.26-14c-3.07-8.15-5.73-15.19-16.08-25.55s-17.39-13-25.54-16.08c-8.6-3.24-18.35-6.91-31.08-19.64s-16.41-22.48-19.65-31.08c-3.07-8.15-5.72-15.19-16.08-25.55s-17.4-13-25.55-16.08a91.37,91.37,0,0,1-14-6.26A7.79,7.79,0,1,1,11.66,84.3a79.15,79.15,0,0,0,11.76,5.2c8.6,3.25,18.35,6.92,31.08,19.66s16.41,22.47,19.65,31.07c3.07,8.15,5.73,15.2,16.08,25.55s17.39,13,25.55,16.08c8.59,3.24,18.34,6.91,31.07,19.64S163.26,224,166.5,232.58a78.2,78.2,0,0,0,5.21,11.76A7.8,7.8,0,0,1,164.94,256Z"
              />
            </svg>
            String Theory
          </NuxtLink>
        </div>
        <div v-if="route.path === '/'" class="flex-none portrait:hidden lg:hidden">
          <TheViewerDrawerIcons class="flex portrait:hidden lg:hidden" />
        </div>
        <div class="flex-none hidden lg:block">
          <ul class="menu menu-horizontal px-1">
            <li><NuxtLink to="/">Home</NuxtLink></li>
            <li>
              <NuxtLink to="/exercises">Exercise</NuxtLink>
            </li>
            <li>
              <details class="dropdown">
                <summary>
                  <NuxtLink to="/tools">Tools</NuxtLink>
                </summary>
                <ul class="p-2 bg-base-300">
                  <li>
                    <NuxtLink to="/tools/string-tension"
                      >Tension&nbsp;calculator</NuxtLink
                    >
                  </li>
                  <li>
                    <NuxtLink to="/tools/tuner">Tuner</NuxtLink>
                  </li>
                </ul>
              </details>
            </li>
            <li><NuxtLink to="/about">About</NuxtLink></li>
          </ul>
        </div>
        <div class="flex-none hidden lg:block">
          <BaseThemeSelector />
        </div>
      </div>
      <!-- Page Content-->
      <slot />
    </div>
    <div class="drawer-side h-full z-20">
      <label for="header-menu-drawer" class="drawer-overlay"></label>
      <ul class="menu h-full p-4 w-80 bg-base-100 relative">
        <NuxtLink to="/" class="btn btn-ghost normal-case text-xl mb-2">
          <svg
            class="header-logo"
            data-name="String Theory Logo Black"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 256 256"
            width="24"
            height="24"
          >
            <path
              d="M248.2,114.63a7.78,7.78,0,0,1-5.51-2.28l-99-99a7.8,7.8,0,0,1,11-11l99,99a7.8,7.8,0,0,1-5.52,13.31Z"
            />
            <path
              class="cls-1"
              d="M248.2,177.77a7.78,7.78,0,0,1-5.51-2.28L80.51,13.31a7.8,7.8,0,0,1,11-11L253.72,164.46a7.8,7.8,0,0,1-5.52,13.31Z"
            />
            <path
              class="cls-1"
              d="M96,256a7.78,7.78,0,0,1-5.52-2.28L2.28,165.55a7.8,7.8,0,0,1,11-11l88.17,88.17A7.8,7.8,0,0,1,96,256Z"
            />
            <path
              class="cls-1"
              d="M248.2,114.63a7.78,7.78,0,0,1-5.51-2.28l-99-99a7.8,7.8,0,0,1,11-11l99,99a7.8,7.8,0,0,1-5.52,13.31Z"
            />
            <path
              class="cls-1"
              d="M248.2,177.77a7.78,7.78,0,0,1-5.51-2.28L80.51,13.31a7.8,7.8,0,0,1,11-11L253.72,164.46a7.8,7.8,0,0,1-5.52,13.31Z"
            />
            <path
              class="cls-1"
              d="M235.2,254.3a7.75,7.75,0,0,1-5.55-2.32c-14.52-14.72-19.07-25.22-23.47-35.37-4.07-9.4-7.91-18.28-20.93-31.3S163.36,168.46,154,164.39c-10.33-4.47-21-9.09-36.12-24.21S98.1,114.39,93.63,104.06c-4.07-9.4-7.91-18.27-20.92-31.29S50.82,55.92,41.42,51.85c-10.33-4.47-21-9.08-36.12-24.2-.34-.34-.65-.66-1-1l-.42-.43A7.8,7.8,0,0,1,15.09,15.34l.46.48.78.8c13,13,21.89,16.85,31.28,20.92,10.33,4.46,21,9.08,36.13,24.2s19.74,25.8,24.2,36.13c4.07,9.39,7.91,18.27,20.92,31.28s21.9,16.86,31.29,20.93c10.33,4.46,21,9.08,36.13,24.2s19.74,25.8,24.22,36.13c4,9.24,7.78,18,20.25,30.61a7.8,7.8,0,0,1-5.55,13.28Z"
            />
            <path
              class="cls-1"
              d="M164.94,256a7.79,7.79,0,0,1-6.78-3.93,91.88,91.88,0,0,1-6.26-14c-3.07-8.15-5.73-15.19-16.08-25.55s-17.39-13-25.54-16.08c-8.6-3.24-18.35-6.91-31.08-19.64s-16.41-22.48-19.65-31.08c-3.07-8.15-5.72-15.19-16.08-25.55s-17.4-13-25.55-16.08a91.37,91.37,0,0,1-14-6.26A7.79,7.79,0,1,1,11.66,84.3a79.15,79.15,0,0,0,11.76,5.2c8.6,3.25,18.35,6.92,31.08,19.66s16.41,22.47,19.65,31.07c3.07,8.15,5.73,15.2,16.08,25.55s17.39,13,25.55,16.08c8.59,3.24,18.34,6.91,31.07,19.64S163.26,224,166.5,232.58a78.2,78.2,0,0,0,5.21,11.76A7.8,7.8,0,0,1,164.94,256Z"
            />
            <path
              class="cls-1"
              d="M235.2,254.3a7.75,7.75,0,0,1-5.55-2.32c-14.52-14.72-19.07-25.22-23.47-35.37-4.07-9.4-7.91-18.28-20.93-31.3S163.36,168.46,154,164.39c-10.33-4.47-21-9.09-36.12-24.21S98.1,114.39,93.63,104.06c-4.07-9.4-7.91-18.27-20.92-31.29S50.82,55.92,41.42,51.85c-10.33-4.47-21-9.09-36.12-24.2a7.8,7.8,0,0,1,11-11c13,13,21.89,16.85,31.28,20.92,10.33,4.46,21,9.08,36.13,24.2s19.74,25.8,24.2,36.13c4.07,9.39,7.91,18.27,20.92,31.28s21.9,16.86,31.29,20.93c10.33,4.46,21,9.08,36.13,24.2s19.74,25.8,24.22,36.13c4,9.24,7.78,18,20.25,30.61a7.8,7.8,0,0,1-5.55,13.28Z"
            />
            <path
              class="cls-1"
              d="M164.94,256a7.79,7.79,0,0,1-6.78-3.93,91.88,91.88,0,0,1-6.26-14c-3.07-8.15-5.73-15.19-16.08-25.55s-17.39-13-25.54-16.08c-8.6-3.24-18.35-6.91-31.08-19.64s-16.41-22.48-19.65-31.08c-3.07-8.15-5.72-15.19-16.08-25.55s-17.4-13-25.55-16.08a91.37,91.37,0,0,1-14-6.26A7.79,7.79,0,1,1,11.66,84.3a79.15,79.15,0,0,0,11.76,5.2c8.6,3.25,18.35,6.92,31.08,19.66s16.41,22.47,19.65,31.07c3.07,8.15,5.73,15.2,16.08,25.55s17.39,13,25.55,16.08c8.59,3.24,18.34,6.91,31.07,19.64S163.26,224,166.5,232.58a78.2,78.2,0,0,0,5.21,11.76A7.8,7.8,0,0,1,164.94,256Z"
            />
          </svg>
          String Theory
        </NuxtLink>
        <li><NuxtLink to="/">Home</NuxtLink></li>
        <li>
          <NuxtLink to="/exercises">Exercise</NuxtLink>
        </li>
        <li>
          <details class="dropdown">
            <summary>
              <NuxtLink to="/tools">Tools</NuxtLink>
            </summary>
            <ul class="p-2">
              <li>
                <NuxtLink to="/tools/string-tension"
                  >Tension&nbsp;calculator</NuxtLink
                >
              </li>
              <li>
                <NuxtLink to="/tools/tuner">Tuner</NuxtLink>
              </li>
            </ul>
          </details>
        </li>
        <li><NuxtLink to="/about">About</NuxtLink></li>
        <BaseThemeSelector class="absolute bottom-4 w-36 place-self-center" />
      </ul>
    </div>
  </div>
</template>

<script setup lang="ts">
const route = useRoute();

function closeDropdown() {
  document.querySelectorAll('.dropdown').forEach(function(dropdown) {
    dropdown.open = false;
  });
}

onMounted(() => {
  window.addEventListener('click', closeDropdown);
});

onUnmounted(() => {
  window.removeEventListener('click', closeDropdown);
});
</script>

<style scoped></style>
